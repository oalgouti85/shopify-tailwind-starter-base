{% comment %}
This file is auto-generated by Foxify.
This file can be re-written at any time. Please do not update this file directly.
{% endcomment %}

{%- liquid
    assign locales = shop.metafields.foxify.locales.value
    assign current_locale = request.locale.iso_code
    assign primary_locale = current_locale
    for locale in shop.published_locales
        if locale.primary
            assign primary_locale = locale.iso_code
            break
        endif
    endfor
    assign translation = locales[current_locale] | default: locales[primary_locale]

    assign SHORT_ID_KEY = 'f'
    assign sort_by = results.sort_by | default: results.default_sort_by
    assign total_active_values = 0
    if results.url
        assign results_url = results.url
    else
        assign terms = results.terms | escape
        assign results_url = '?q=' | append: terms | append: '&options%5Bprefix%5D=last&sort_by=' | append: sort_by
    endif
-%}
{{ 'foxify-component-drawer.css' | asset_url | stylesheet_tag }}
<f-drawer-component id="Drawer-Foxify-Facets" class="{{ SHORT_ID_KEY }}:drawer {{ SHORT_ID_KEY }}:drawer--left {{ SHORT_ID_KEY }}:facets-container {{ SHORT_ID_KEY }}:facets--{{ filter_type }}" aria-modal="true" role="dialog">
    <div class="{{ SHORT_ID_KEY }}:drawer__overlay"></div>
    <div class="{{ SHORT_ID_KEY }}:drawer__content focus-inset" tabindex="-1">
        <div class="{{ SHORT_ID_KEY }}:drawer__header">
            <h2 class="{{ SHORT_ID_KEY }}:facets__heading h3 {{ SHORT_ID_KEY }}:drawer__header-title" tabindex="-1">{{ translation.products.facets.filter_by_label }}</h2>
            <button id="FDrawerClose-Facets" class="{{ SHORT_ID_KEY }}:drawer__close">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    aria-hidden="true"
                    focusable="false"
                    role="presentation"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                >
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
        <div class="{{ SHORT_ID_KEY }}:drawer__scroller">
            <f-facet-filters-form class="{{ SHORT_ID_KEY }}:facets">
                <form id="FoxifyFacetFiltersForm" class="{{ SHORT_ID_KEY }}:facets__form">
                    {%- if results.terms -%}
                        <input type="hidden" name="q" value="{{ results.terms | escape }}">
                        <input name="options[prefix]" type="hidden" value="last">
                    {%- endif -%}

                    {%- for filter in results.filters -%}
                        {%- assign total_active_values = total_active_values | plus: filter.active_values.size -%}
                        {% case filter.type %}
                            {% when 'boolean' or 'list' %}
                                {% liquid
                                    assign filters_selected_one = translation.products.facets.filters_selected.one | replace: '{{ count }}', filter.active_values.size
                                %}
                                <details id="Details-{{ forloop.index }}-{{ section.id }}" class="{{ SHORT_ID_KEY }}:facets__block js-filter" data-index="{{ forloop.index }}"{% if filter_type == 'vertical' and forloop.index == 1 %} open{% endif %}>
                                    <summary class="{{ SHORT_ID_KEY }}:facets__summary" aria-label="{{ filter.label }} ({{ filters_selected_one }})">
                                        <h5>{{ filter.label | escape }} <span class="{{ SHORT_ID_KEY }}:facets__selected no-js-hidden{% if filter.active_values.size == 0 %} hidden{% endif %}"> ({{ filter.active_values.size }})</span></h5>
                                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M7 2.91669V11.0834" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                            <path d="M2.91675 7H11.0834" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </summary>
                                    <div id="Facet-{{ forloop.index }}-{{ section.id }}" class="{{ SHORT_ID_KEY }}:facets__block-options {{ SHORT_ID_KEY }}:parent-display">
                                        <fieldset class="{{ SHORT_ID_KEY }}:facets-wrap">
                                            <legend class="{{ SHORT_ID_KEY }}:visually-hidden">{{ filter.label | escape }}</legend>
                                            <ul class="no-js-hidden" role="list">
                                                {%- for value in filter.values -%}
                                                    {% liquid
                                                        assign product_count_simple_one = translation.products.facets.product_count_simple.one | replace: '{{ count }}', value.count
                                                        assign product_count_simple_other = translation.products.facets.product_count_simple.other | replace: '{{ count }}', value.count
                                                    %}
                                                    <li class="{{ SHORT_ID_KEY }}:facets__item{% if forloop.index > 10 %} {{ SHORT_ID_KEY }}:show-more-item {{ SHORT_ID_KEY }}:hidden{% endif %}">
                                                        <label for="Filter-{{ filter.param_name | escape }}-{{ forloop.index }}" class="f:checkbox{% if value.count == 0 and value.active == false %} f:checkbox--disabled{% endif %}">
                                                            <input type="checkbox"
                                                                   name="{{ value.param_name }}"
                                                                   value="{{ value.value }}"
                                                                   id="Filter-{{ filter.param_name | escape }}-{{ forloop.index }}"
                                                                   {% if value.active %}checked{% endif %}
                                                                {% if value.count == 0 and value.active == false %}disabled{% endif %}
                                                            >
                                                            <span class="f:checkbox__checkmark"></span>
                                                            <span aria-hidden="true">{{ value.label | escape }} ({{ value.count }})</span>
                                                            <span class="f:visually-hidden">{{ value.label | escape }} ({% if value.count == 1 %}{{ product_count_simple_one }}{% else %}{{ product_count_simple_other }}{% endif %})</span>
                                                        </label>
                                                    </li>
                                                {%- endfor -%}
                                            </ul>
                                        </fieldset>
                                        {%- if filter.values.size > 10 -%}
                                            <f-show-more-button>
                                                <button class="button-show-more no-js-hidden {{ SHORT_ID_KEY }}:btn {{ SHORT_ID_KEY }}:gs-link-button" id="Show-More-{{ forloop.index }}-{{ section.id }}" type="button">
                                                    <span class="label-show-more label-text"><span aria-hidden="true">+ </span>{{ translation.products.facets.show_more}}</span>
                                                    <span class="label-show-less label-text {{ SHORT_ID_KEY }}:hidden"><span aria-hidden="true">- </span>{{ translation.products.facets.show_less}}</span>
                                                </button>
                                            </f-show-more-button>
                                        {%- endif %}
                                    </div>
                                </details>
                            {% when 'price_range' %}
                                {% liquid
                                    assign currencies_using_comma_decimals = 'ANG,ARS,BRL,BYN,BYR,CLF,CLP,COP,CRC,CZK,DKK,EUR,HRK,HUF,IDR,ISK,MZN,NOK,PLN,RON,RUB,SEK,TRY,UYU,VES,VND' | split: ','
                                    assign uses_comma_decimals = false
                                    if currencies_using_comma_decimals contains cart.currency.iso_code
                                        assign uses_comma_decimals = true
                                    endif

                                    assign max_price_amount = filter.range_max | money | strip_html | escape
                                    assign max_price_label = translation.products.facets.max_price | replace: '{{ price }}', max_price_amount
                                %}
                                <details id="Details-{{ forloop.index }}-{{ section.id }}" class="{{ SHORT_ID_KEY }}:facets__block js-filter" data-index="{{ forloop.index }}"{% if filter_type == 'vertical' and  forloop.index == 1 %} open{% endif %}>
                                    <summary class="{{ SHORT_ID_KEY }}:facets__summary">
                                        <h5>
                                            <span>{{ filter.label | escape }}</span>
                                        </h5>
                                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M7 2.91669V11.0834" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                            <path d="M2.91675 7H11.0834" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
                                        </svg>
                                    </summary>
                                    <div id="Facet-{{ forloop.index }}-{{ section.id }}" class="{{ SHORT_ID_KEY }}:facets__block-options {{ SHORT_ID_KEY }}:parent-display">
                                        <div class="{{ SHORT_ID_KEY }}:facets__header">
                                            <span class="{{ SHORT_ID_KEY }}:facets__selected">{{ max_price_label }}</span>
                                        </div>
                                        <f-price-range class="{{ SHORT_ID_KEY }}:facets__price">
                                            <div class="{{ SHORT_ID_KEY }}:form-row" style="--gap: 16px;">
                                                <div class="{{ SHORT_ID_KEY }}:form-field">
                                                    <label class="{{ SHORT_ID_KEY }}:form-label" for="Filter-{{ filter.label | escape }}-GTE">{{ translation.products.facets.from }}</label>
                                                    <div class="{{ SHORT_ID_KEY }}:form-control__wrapper">
                                                        <span class="{{ SHORT_ID_KEY }}:form-control__prefix">{{ cart.currency.symbol }}</span>
                                                        <input class="{{ SHORT_ID_KEY }}:form-control"
                                                               name="{{ filter.min_value.param_name }}"
                                                               id="Filter-{{ filter.label | escape }}-GTE"
                                                                {%- if filter.min_value.value -%}
                                                                        {%- if uses_comma_decimals -%}value="{{ filter.min_value.value | money_without_currency | replace: '.', '' | replace: ',', '.' }}"{%- else -%}value="{{ filter.min_value.value | money_without_currency | replace: ',', '' }}"{% endif %}
                                                                {%- endif -%}
                                                               type="number"
                                                               placeholder="0"
                                                               min="0"
                                                            {%- if uses_comma_decimals -%}max="{{ filter.range_max | money_without_currency | replace: '.', '' | replace: ',', '.' }}"{%- else -%}max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"{% endif %}
                                                        >
                                                    </div>
                                                </div>
                                                <div class="{{ SHORT_ID_KEY }}:form-field">
                                                    <label class="{{ SHORT_ID_KEY }}:form-label" for="Filter-{{ filter.label | escape }}-LTE">{{ translation.products.facets.to }}</label>
                                                    <div class="{{ SHORT_ID_KEY }}:form-control__wrapper">
                                                        <span class="{{ SHORT_ID_KEY }}:form-control__prefix">{{ cart.currency.symbol }}</span>
                                                        <input class="{{ SHORT_ID_KEY }}:form-control"
                                                               name="{{ filter.max_value.param_name }}"
                                                               id="Filter-{{ filter.label | escape }}-LTE"
                                                               {%- if filter.max_value.value -%}{%- if uses_comma_decimals -%}value="{{ filter.max_value.value | money_without_currency | replace: '.', '' | replace: ',', '.' }}"{%- else -%}value="{{ filter.max_value.value | money_without_currency | replace: ',', '' }}"{% endif %}
                                                                {%- endif -%}
                                                               type="number"
                                                               min="0"
                                                                {%- if uses_comma_decimals -%}
                                                                    placeholder="{{ filter.range_max | money_without_currency | replace: '.', '' | replace: ',', '.' }}"
                                                                    max="{{ filter.range_max | money_without_currency | replace: '.', '' | replace: ',', '.' }}"
                                                                {%- else -%}
                                                                    placeholder="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                                                                    max="{{ filter.range_max | money_without_currency | replace: ',', '' }}"
                                                                {% endif %}
                                                        >
                                                    </div>
                                                </div>
                                            </div>
                                        </f-price-range>
                                    </div>
                                </details>
                        {% endcase %}
                    {%- endfor -%}
                </form>
            </f-facet-filters-form>
        </div>
        <div class="{{ SHORT_ID_KEY }}:drawer__footer {{ SHORT_ID_KEY }}:flex {{ SHORT_ID_KEY }}:items-center {{ SHORT_ID_KEY }}:justify-between">
            <f-facet-remove>
                <a href="{{ results_url }}" class="{{ SHORT_ID_KEY }}:btn {{ SHORT_ID_KEY }}:gs-link-button" aria-label="{{ translation.products.facets.clear_all }}">
                    <span>{{ translation.products.facets.clear_all }}</span>
                </a>
            </f-facet-remove>
            <f-facet-submit>
                <button class="{{ SHORT_ID_KEY }}:btn {{ SHORT_ID_KEY }}:gs-primary-button {{ SHORT_ID_KEY }}:w-full" aria-label="{{ translation.products.facets.apply }}">
                    {{- translation.products.facets.apply -}}
                </button>
            </f-facet-submit>
        </div>
    </div>
</f-drawer-component>
